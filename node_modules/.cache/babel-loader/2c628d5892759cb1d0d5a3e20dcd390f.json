{"ast":null,"code":"import\"antd/es/card/style\";import _Card from\"antd/es/card\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import _objectSpread from\"C:/Users/PC/Desktop/\\u6E90\\u7801/react_Project/react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/PC/Desktop/\\u6E90\\u7801/react_Project/react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/PC/Desktop/\\u6E90\\u7801/react_Project/react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/PC/Desktop/\\u6E90\\u7801/react_Project/react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/PC/Desktop/\\u6E90\\u7801/react_Project/react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"antd/es/list/style\";import _List from\"antd/es/list\";var _dec,_class,_temp;import React,{Component}from'react';import{connect}from'react-redux';// import { nanoid } from 'nanoid'\n// import {reqProdById} from '../../api'\n// import { reqProdById,reqCategoryList } from '../../api'\nimport{LeftCircleOutlined}from'@ant-design/icons';import'./css/detail.less';// import { BASE_IMG_URL } from '../../utils/constants'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Item=_List.Item;var Detail=(_dec=connect(function(state){return{productList:state.productList,categoryList:state.categoryList};}),_dec(_class=(_temp=/*#__PURE__*/function(_Component){_inherits(Detail,_Component);var _super=_createSuper(Detail);function Detail(){var _this;_classCallCheck(this,Detail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={categoryId:'',// categoryName:'',\ndesc:'',detail:'',imgs:[],name:'',price:'',isLoding:false};return _this;}_createClass(Detail,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.id;var reduxProdList=this.props.productList;var reduxCateList=this.props.categoryList;console.log(reduxCateList);console.log(reduxProdList);if(reduxProdList.length){var result=reduxProdList.find(function(item){return item._id===id;});console.log(result);if(result){this.categoryId=result._id;this.setState(_objectSpread({},result));}}// else this.getProdById(id)\nif(reduxCateList.length){var _result=reduxCateList.find(function(item){return item._id===_this2.categoryId;});console.log(_result);//   this.setState({categoryName:result.name,isLoading:false})\n}// else this.getCategorylist()\n}/* getCategorylist = async () => {\r\n        let result = await reqCategoryList()\r\n        const { status, data, msg } = result\r\n        if (status === 0) {\r\n            let result = data.find((item) => {\r\n                return item._id === data.categoryId\r\n            })\r\n            if (result) this.setState({ categoryName: result.name, isLoding: false })\r\n        }\r\n        else {\r\n            message.error(msg, 1)\r\n        }\r\n    } */ /* getProdById = async(id)=>{\r\n        let result = await reqProdById(id)\r\n        const {status,data} = result\r\n        if(status === 0){\r\n            this.categoryId = data.categoryId\r\n            this.setState({...result})\r\n\r\n        }else{\r\n            message.error(msg,1)\r\n        }\r\n        console.log(result);\r\n    } */},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,desc=_this$state.desc,detail=_this$state.detail,name=_this$state.name,price=_this$state.price,isLoding=_this$state.isLoding;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(_Card,{title:/*#__PURE__*/_jsx(\"div\",{className:\"left-top\",children:/*#__PURE__*/_jsxs(_Button,{onClick:function onClick(){_this3.props.history.goBack();},type:\"link\",children:[/*#__PURE__*/_jsx(LeftCircleOutlined,{}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u5546\\u54C1\\u8BE6\\u60C5\"})]})}),loading:isLoding,children:/*#__PURE__*/_jsxs(_List,{children:[/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"prod-title\",children:\"\\u5546\\u54C1\\u540D\\u79F0:\"}),/*#__PURE__*/_jsx(\"span\",{children:name})]}),/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"prod-title\",children:\"\\u5546\\u54C1\\u63CF\\u8FF0:\"}),/*#__PURE__*/_jsx(\"span\",{children:desc})]}),/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"prod-title\",children:\"\\u5546\\u54C1\\u4EF7\\u683C:\"}),/*#__PURE__*/_jsx(\"span\",{children:price})]}),/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"prod-title\",children:\"\\u6240\\u5C5E\\u5206\\u7C7B:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u6240\\u5C5E\\u5206\\u7C7Bid\\u4E0D\\u4E00\\u81F4\"})]}),/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"prod-title\",children:\"\\u5546\\u54C1\\u56FE\\u7247:\"}),/*#__PURE__*/_jsx(\"img\",{className:\"product-img\",src:\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2343860813,4292986121&fm=15&gp=0.jpg\",alt:\"\\u56FE\\u72471\"}),/*#__PURE__*/_jsx(\"img\",{className:\"product-img\",src:\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2343860813,4292986121&fm=15&gp=0.jpg\",alt:\"\\u56FE\\u7247\"})]}),/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"prod-title\",children:\"\\u5546\\u54C1\\u8BE6\\u60C5:\"}),/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:detail}})]})]})})});}}]);return Detail;}(Component),_temp))||_class);export default Detail;","map":{"version":3,"sources":["C:/Users/PC/Desktop/源码/react_Project/react-project/src/containers/Product/detail.jsx"],"names":["React","Component","connect","LeftCircleOutlined","Item","Detail","state","productList","categoryList","categoryId","desc","detail","imgs","name","price","isLoding","id","props","match","params","reduxProdList","reduxCateList","console","log","length","result","find","item","_id","setState","history","goBack","__html"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Card, List, /* message */ } from \"antd\"\r\nimport { connect } from 'react-redux'\r\n// import { nanoid } from 'nanoid'\r\n// import {reqProdById} from '../../api'\r\n// import { reqProdById,reqCategoryList } from '../../api'\r\nimport { LeftCircleOutlined } from '@ant-design/icons'\r\nimport './css/detail.less'\r\n// import { BASE_IMG_URL } from '../../utils/constants'\r\n\r\n\r\nconst { Item } = List\r\n@connect(\r\n    state => ({\r\n        productList: state.productList,\r\n        categoryList: state.categoryList\r\n    })\r\n\r\n)\r\nclass Detail extends Component {\r\n\r\n    state = {\r\n        categoryId: '',\r\n        // categoryName:'',\r\n        desc: '',\r\n        detail: '',\r\n        imgs: [],\r\n        name: '',\r\n        price: '',\r\n        isLoding: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { id } = this.props.match.params\r\n        const reduxProdList = this.props.productList\r\n        const reduxCateList = this.props.categoryList\r\n        console.log(reduxCateList);\r\n        console.log(reduxProdList);\r\n        if (reduxProdList.length) {\r\n            let result = reduxProdList.find((item) => item._id === id)\r\n            console.log(result);\r\n            if (result) {\r\n                this.categoryId = result._id\r\n                this.setState({ ...result })\r\n            }\r\n        }\r\n        // else this.getProdById(id)\r\n        if (reduxCateList.length) {\r\n            let result = reduxCateList.find((item) => item._id === this.categoryId)\r\n            console.log(result);\r\n            //   this.setState({categoryName:result.name,isLoading:false})\r\n        }\r\n        // else this.getCategorylist()\r\n    }\r\n\r\n\r\n    /* getCategorylist = async () => {\r\n        let result = await reqCategoryList()\r\n        const { status, data, msg } = result\r\n        if (status === 0) {\r\n            let result = data.find((item) => {\r\n                return item._id === data.categoryId\r\n            })\r\n            if (result) this.setState({ categoryName: result.name, isLoding: false })\r\n        }\r\n        else {\r\n            message.error(msg, 1)\r\n        }\r\n    } */\r\n\r\n    /* getProdById = async(id)=>{\r\n        let result = await reqProdById(id)\r\n        const {status,data} = result\r\n        if(status === 0){\r\n            this.categoryId = data.categoryId\r\n            this.setState({...result})\r\n\r\n        }else{\r\n            message.error(msg,1)\r\n        }\r\n        console.log(result);\r\n    } */\r\n\r\n\r\n    render() {\r\n        const { /* categoryId,  */desc, detail, /* imgs, */ name, price,/* categoryName, */ isLoding } = this.state\r\n        return (\r\n            <div>\r\n                <Card title={\r\n                    <div className='left-top'>\r\n                        <Button onClick={() => { this.props.history.goBack() }} type=\"link\">\r\n                            <LeftCircleOutlined />\r\n                            <span>商品详情</span>\r\n                        </Button>\r\n                    </div>\r\n                } loading={isLoding}>\r\n                    <List>\r\n                        <Item>\r\n                            <span className=\"prod-title\">商品名称:</span>\r\n                            <span>{name}</span>\r\n                        </Item>\r\n                        <Item>\r\n                            <span className=\"prod-title\">商品描述:</span>\r\n                            <span>{desc}</span>\r\n                        </Item>\r\n                        <Item>\r\n                            <span className=\"prod-title\">商品价格:</span>\r\n                            <span>{price}</span>\r\n                        </Item>\r\n                        <Item>\r\n                            <span className=\"prod-title\">所属分类:</span>\r\n                            <span>所属分类id不一致</span>\r\n                        </Item>\r\n                        <Item>\r\n                            <span className=\"prod-title\">商品图片:</span>\r\n                            {/* {\r\n                                imgs.map(img => {\r\n                                    return (\r\n                                        <img\r\n                                            key={nanoid()}\r\n                                            className='product-img'\r\n                                            src={BASE_IMG_URL + img} alt=\"图片1\"\r\n                                            style={{ width: 200, height: 200 }}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            } */}\r\n\r\n                            <img\r\n                                className='product-img'\r\n                                src=\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2343860813,4292986121&fm=15&gp=0.jpg\" alt=\"图片1\"\r\n                            />\r\n                            <img className='product-img'\r\n                                src=\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2343860813,4292986121&fm=15&gp=0.jpg\" alt=\"图片\"\r\n                            />\r\n                        </Item>\r\n                        <Item>\r\n                            <span className=\"prod-title\">商品详情:</span>\r\n                            <span dangerouslySetInnerHTML={{ __html: detail }}></span>\r\n                        </Item>\r\n                    </List>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Detail"]},"metadata":{},"sourceType":"module"}