{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\react-project\\\\src\\\\containers\\\\Login\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createDemo1Action, createDemo2Action } from '../../redux/actions_creators/test_action';\nimport './css/login.less';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport logo from './img/dora_17.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Item\n} = _Form;\n\nconst Login = props => {\n  _s();\n\n  const [form] = _Form.useForm(); // 如果用户已经登录 自动跳转到管理界面\n\n  /* const user = props.user\r\n  if (user._id) {\r\n    return <Redirect to='/home'/>\r\n  } */\n  // 点击登录按钮的回调\n\n\n  const handleSubmit = event => {\n    event.preventDefault(); //阻止默认事件--禁止form表单提交---通过ajax发送\n\n    props.form.validateFields((err, values) => {\n      if (!err) {\n        //alert('向服务器发送登录请求')\n        props.demo2('0719');\n      } else {\n        _message.error('表单输入有误，请检查！');\n      }\n    });\n  };\n\n  const NameValidator = (rule, value, callback) => {\n    if (value) {\n      if (value.length >= 4 && value.length <= 30) {\n        return Promise.resolve();\n      } else {\n        return Promise.reject('名称长度为4-30个字符，一个中文字等于2个字符');\n      }\n    } else {\n      return Promise.resolve();\n    }\n  };\n  /*  const onFinish = (values) => {\r\n     // console.log('Received values of form: ', values);\r\n  \n     // 请求登录\r\n     const {username,password} = values\r\n  \n     // 调用分发异步action的函数 ===》发送ajax请求 \r\n     // 有了结果之后更新状态\r\n     props.login(username,password)\r\n      \r\n   };\r\n  */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"login-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"\\u540E\\u53F0\\u7BA1\\u7406\\u7CFB\\u7EDF\", this.props.test]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"login-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u7528\\u6237\\u767B\\u9646\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(_Form, {\n        form: form,\n        name: \"normal_login\",\n        className: \"login-form\",\n        initialValues: {\n          remember: true,\n          username: '云显靖'\n        } // onFinish={onFinish}\n        ,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Item, {\n          name: \"username\" // 声明式验证：直接使用别人定义好的验证规则进行验证\n          ,\n          rules: [{\n            required: true,\n            whitespace: true,\n            message: '请输入用户名!'\n          }, {\n            min: 4,\n            message: '用户名最少4位'\n          }, {\n            max: 12,\n            message: '用户名最多12位'\n          }, {\n            pattern: /^[a-zA-Z0-9_]+$/,\n            message: '用户名必须是英文 数字或者下划线组成'\n          }],\n          children: /*#__PURE__*/_jsxDEV(_Input, {\n            prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n              className: \"site-form-item-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 30\n            }, this),\n            placeholder: \"\\u7528\\u6237\\u540D\",\n            style: {\n              color: 'rgba(0,0,0,.25)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: 'Please input your Password!'\n          }, {\n            validator: NameValidator\n          }],\n          children: /*#__PURE__*/_jsxDEV(_Input, {\n            prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n              className: \"site-form-item-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 30\n            }, this),\n            type: \"password\",\n            placeholder: \"\\u5BC6\\u7801\",\n            style: {\n              color: 'rgba(0,0,0,.25)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            className: \"login-form-button\",\n            children: \"\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n}; // 暴露容器\n\n\n_s(Login, \"rI7DrJIrFu7YmlGWYiMFTzs8jF0=\", false, function () {\n  return [_Form.useForm];\n});\n\n_c = Login;\nexport default connect(state => ({\n  test: state.test\n}), {\n  demo1: createDemo1Action,\n  demo2: createDemo2Action\n})(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/PC/Desktop/react-project/src/containers/Login/index.jsx"],"names":["React","connect","createDemo1Action","createDemo2Action","UserOutlined","LockOutlined","logo","Item","Login","props","form","useForm","handleSubmit","event","preventDefault","validateFields","err","values","demo2","error","NameValidator","rule","value","callback","length","Promise","resolve","reject","test","remember","username","required","whitespace","message","min","max","pattern","color","validator","state","demo1"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Form, Input, Button,message} from 'antd';\r\nimport { connect } from 'react-redux'\r\nimport { createDemo1Action, createDemo2Action } from '../../redux/actions_creators/test_action'\r\nimport './css/login.less'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\nimport logo from './img/dora_17.png'\r\n\r\n\r\nconst { Item } = Form\r\nconst Login = (props) => {\r\n\r\n    const [form] = Form.useForm();\r\n  \r\n    // 如果用户已经登录 自动跳转到管理界面\r\n    /* const user = props.user\r\n    if (user._id) {\r\n      return <Redirect to='/home'/>\r\n    } */\r\n    // 点击登录按钮的回调\r\n    const handleSubmit = (event)=>{\r\n        event.preventDefault();//阻止默认事件--禁止form表单提交---通过ajax发送\r\n        props.form.validateFields((err, values) => {\r\n          if(!err){\r\n            //alert('向服务器发送登录请求')\r\n            props.demo2('0719')\r\n          }else{\r\n            message.error('表单输入有误，请检查！')\r\n          }\r\n        });\r\n      }\r\n    const NameValidator = (rule, value, callback) => {\r\n        if (value) {\r\n          if (value.length >= 4 && value.length <= 30) {\r\n            return Promise.resolve()\r\n          } else {\r\n            return Promise.reject('名称长度为4-30个字符，一个中文字等于2个字符')\r\n          }\r\n        } else {\r\n          return Promise.resolve()\r\n        }\r\n      };\r\n\r\n   /*  const onFinish = (values) => {\r\n      // console.log('Received values of form: ', values);\r\n  \r\n      // 请求登录\r\n      const {username,password} = values\r\n  \r\n      // 调用分发异步action的函数 ===》发送ajax请求 \r\n      // 有了结果之后更新状态\r\n      props.login(username,password)\r\n       \r\n    };\r\n   */\r\n    return (\r\n      <div className=\"login\">\r\n        <header className=\"login-header\">\r\n          <img src={logo} alt=\"logo\"/>\r\n          <h1>后台管理系统{this.props.test}</h1>\r\n        </header>\r\n        <section className=\"login-content\">\r\n          <h1>用户登陆</h1>\r\n\r\n          <Form form={form} name=\"normal_login\" className=\"login-form\"\r\n            initialValues={{\r\n              remember: true,\r\n              username:'云显靖'\r\n            }}\r\n            // onFinish={onFinish}\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <Item\r\n              name=\"username\"\r\n              // 声明式验证：直接使用别人定义好的验证规则进行验证\r\n              rules={[\r\n                {required: true, whitespace: true, message: '请输入用户名!'},\r\n                {min: 4, message: '用户名最少4位'},\r\n                {max: 12, message: '用户名最多12位'},\r\n                {pattern: /^[a-zA-Z0-9_]+$/, message: '用户名必须是英文 数字或者下划线组成'},\r\n              ]}\r\n            >\r\n              <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"用户名\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n            </Item>\r\n            <Item\r\n              name=\"password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your Password!',\r\n                },{validator: NameValidator,}\r\n              ]}\r\n            >\r\n              <Input prefix={<LockOutlined className=\"site-form-item-icon\" />} type=\"password\" placeholder=\"密码\" style={{ color: 'rgba(0,0,0,.25)' }}/>\r\n            </Item>\r\n            <Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                登录\r\n              </Button>\r\n            </Item>\r\n          </Form>\r\n        </section>\r\n      </div>\r\n    );\r\n  };\r\n// 暴露容器\r\nexport default connect(\r\n    state => ({ test: state.test }),\r\n    {\r\n        demo1: createDemo1Action,\r\n        demo2: createDemo2Action,\r\n    }\r\n)(Login)\r\n\r\n"]},"metadata":{},"sourceType":"module"}