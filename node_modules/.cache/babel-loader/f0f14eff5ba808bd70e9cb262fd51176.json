{"ast":null,"code":"// import React,{Component} from 'react'\n// import {Form,Input,Tree} from 'antd'\n// import PropTypes from 'prop-types'\n// import menuList from '../../config/menuConfig'\n// const Item = Form.Item \n// // 创建角色的form组件\n// export default class AuthForm extends Component {\n//     static propTypes = {\n//       role: PropTypes.object\n//     }\n//     // state = {\n//     //     treeData: [{\n//     //         title: '平台权限',\n//     //         key: 'all',\n//     //         children: []\n//     //     }],\n//     //     checkedKeys:[]\n//     // }\n//     constructor(props) {\n//       super(props)\n//       // console.log('role',this.props.role);\n//       const {menus} = this.props.role\n//       this.state = {\n//         treeData: [{\n//           title: '平台权限',\n//           key: 'all',\n//           children: []\n//       }],\n//         checkedKeys: menus,\n//       }\n//       // console.log('menus',menus);\n//       // console.log('state-checkedKeys',this.state.checkedKeys);\n//     }\n//     getTreeNodes = (menuList) => {\n//       return menuList.reduce((pre,item)=>{\n//         pre.push(\n//           {\n//             title: item.title,\n//             key: item.key,\n//             children: item.children ? this.getTreeNodes(item.children):null\n//           }\n//         )\n//         return pre\n//       },[])\n//     }\n//     // 为父组件获取最新menus的方法\n//     getMenus = () => this.state.checkedKeys\n//     // 选中某个node \n//     onCheck = checkedKeys => {\n//         console.log('onCheck', checkedKeys);\n//         // setCheckedKeys(checkedKeys);\n//         this.setState({checkedKeys})\n//     };\n//     // 根据新传入的role来更新checkedKeys状态\n//     // 当组件接收到新的属性时自动调用\n//     UNSAFE_componentWillReceiveProps(nextProps){\n//       const menus = nextProps.role.menus\n//       this.setState({\n//         checkedKeys: menus\n//       })\n//       // this.state.checkedKeys = menus\n//     }\n//     UNSAFE_componentWillMount(){\n//         //   this.state.treeData[0].children = this.getTreeNodes(menuList)\n//         let treeDatas = this.state.treeData\n//         treeDatas[0].children = this.getTreeNodes(menuList)\n//         this.setState({\n//         treeData: treeDatas\n//         })\n//     } \n//     render() {\n//       const {role} = this.props\n//       const {treeData,checkedKeys} = this.state\n//       // console.log('render之前,',checkedKeys);\n//       // console.log('render',this.state.checkedKeys);\n//         // console.log('treeData',treeData);\n//         return (\n//             <div>\n//               <Item label='角色名称'>\n//                 <Input value={role.name} disabled/>\n//               </Item>\n//               <Tree\n//                 checkable\n//                 defaultExpandAll={true}\n//                 checkedKeys={{checked:checkedKeys}}\n//                 onCheck={this.onCheck}\n//                 treeData={treeData} \n//                 />\n//             </div>\n//         )\n//     }\n// }\n// // import React, { useState } from 'react';\n// // import { Tree } from 'antd';\n// // const treeData = [\n// //   {\n// //     title: '0-0',\n// //     key: '0-0',\n// //     children: [\n// //       {\n// //         title: '0-0-0',\n// //         key: '0-0-0',\n// //         children: [\n// //           {\n// //             title: '0-0-0-0',\n// //             key: '0-0-0-0',\n// //           },\n// //           {\n// //             title: '0-0-0-1',\n// //             key: '0-0-0-1',\n// //           },\n// //           {\n// //             title: '0-0-0-2',\n// //             key: '0-0-0-2',\n// //           },\n// //         ],\n// //       },\n// //       {\n// //         title: '0-0-1',\n// //         key: '0-0-1',\n// //         children: [\n// //           {\n// //             title: '0-0-1-0',\n// //             key: '0-0-1-0',\n// //           },\n// //           {\n// //             title: '0-0-1-1',\n// //             key: '0-0-1-1',\n// //           },\n// //           {\n// //             title: '0-0-1-2',\n// //             key: '0-0-1-2',\n// //           },\n// //         ],\n// //       },\n// //       {\n// //         title: '0-0-2',\n// //         key: '0-0-2',\n// //       },\n// //     ],\n// //   },\n// //   {\n// //     title: '0-1',\n// //     key: '0-1',\n// //     children: [\n// //       {\n// //         title: '0-1-0-0',\n// //         key: '0-1-0-0',\n// //       },\n// //       {\n// //         title: '0-1-0-1',\n// //         key: '0-1-0-1',\n// //       },\n// //       {\n// //         title: '0-1-0-2',\n// //         key: '0-1-0-2',\n// //       },\n// //     ],\n// //   },\n// //   {\n// //     title: '0-2',\n// //     key: '0-2',\n// //   },\n// // ];\n// // const  AuthForm = () => {\n// //   const [expandedKeys, setExpandedKeys] = useState(['0-0-0', '0-0-1','0-1']);\n// //   const [checkedKeys, setCheckedKeys] = useState(['0-0-0']);\n// //   const [selectedKeys, setSelectedKeys] = useState([]);\n// //   const [autoExpandParent, setAutoExpandParent] = useState(true);\n// //   const onExpand = (expandedKeys) => {\n// //     console.log('onExpand', expandedKeys); // if not set autoExpandParent to false, if children expanded, parent can not collapse.\n// //     // or, you can remove all expanded children keys.\n// //     setExpandedKeys(expandedKeys);\n// //     setAutoExpandParent(false);\n// //   };\n// //   const onCheck = (checkedKeys) => {\n// //     console.log('onCheck', checkedKeys);\n// //     setCheckedKeys(checkedKeys);\n// //   };\n// //   const onSelect = (selectedKeys, info) => {\n// //     console.log('onSelect', info);\n// //     setSelectedKeys(selectedKeys);\n// //   };\n// //   return (\n// //     <Tree\n// //       checkable\n// //       onExpand={onExpand}\n// //       expandedKeys={expandedKeys}\n// //       autoExpandParent={autoExpandParent}\n// //       onCheck={onCheck}\n// //       checkedKeys={checkedKeys}\n// //       onSelect={onSelect}\n// //       selectedKeys={selectedKeys}\n// //       treeData={treeData}\n// //     />\n// //   );\n// // };\n// // export default AuthForm","map":{"version":3,"sources":["C:/Users/PC/Desktop/react-project/src/containers/Role/auth-form.jsx"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React,{Component} from 'react'\r\n// import {Form,Input,Tree} from 'antd'\r\n// import PropTypes from 'prop-types'\r\n// import menuList from '../../config/menuConfig'\r\n\r\n\r\n// const Item = Form.Item \r\n\r\n// // 创建角色的form组件\r\n// export default class AuthForm extends Component {\r\n\r\n//     static propTypes = {\r\n//       role: PropTypes.object\r\n//     }\r\n\r\n//     // state = {\r\n//     //     treeData: [{\r\n//     //         title: '平台权限',\r\n//     //         key: 'all',\r\n//     //         children: []\r\n//     //     }],\r\n//     //     checkedKeys:[]\r\n//     // }\r\n\r\n//     constructor(props) {\r\n//       super(props)\r\n//       // console.log('role',this.props.role);\r\n//       const {menus} = this.props.role\r\n\r\n//       this.state = {\r\n//         treeData: [{\r\n//           title: '平台权限',\r\n//           key: 'all',\r\n//           children: []\r\n//       }],\r\n//         checkedKeys: menus,\r\n//       }\r\n//       // console.log('menus',menus);\r\n//       // console.log('state-checkedKeys',this.state.checkedKeys);\r\n//     }\r\n\r\n//     getTreeNodes = (menuList) => {\r\n//       return menuList.reduce((pre,item)=>{\r\n//         pre.push(\r\n//           {\r\n//             title: item.title,\r\n//             key: item.key,\r\n//             children: item.children ? this.getTreeNodes(item.children):null\r\n//           }\r\n//         )\r\n//         return pre\r\n//       },[])\r\n//     }\r\n\r\n//     // 为父组件获取最新menus的方法\r\n//     getMenus = () => this.state.checkedKeys\r\n    \r\n\r\n//     // 选中某个node \r\n//     onCheck = checkedKeys => {\r\n//         console.log('onCheck', checkedKeys);\r\n//         // setCheckedKeys(checkedKeys);\r\n//         this.setState({checkedKeys})\r\n//     };\r\n\r\n//     // 根据新传入的role来更新checkedKeys状态\r\n//     // 当组件接收到新的属性时自动调用\r\n//     UNSAFE_componentWillReceiveProps(nextProps){\r\n//       const menus = nextProps.role.menus\r\n//       this.setState({\r\n//         checkedKeys: menus\r\n//       })\r\n//       // this.state.checkedKeys = menus\r\n//     }\r\n\r\n\r\n//     UNSAFE_componentWillMount(){\r\n//         //   this.state.treeData[0].children = this.getTreeNodes(menuList)\r\n//         let treeDatas = this.state.treeData\r\n//         treeDatas[0].children = this.getTreeNodes(menuList)\r\n//         this.setState({\r\n//         treeData: treeDatas\r\n//         })\r\n\r\n//     } \r\n    \r\n//     render() {\r\n//       const {role} = this.props\r\n//       const {treeData,checkedKeys} = this.state\r\n//       // console.log('render之前,',checkedKeys);\r\n//       // console.log('render',this.state.checkedKeys);\r\n//         // console.log('treeData',treeData);\r\n//         return (\r\n//             <div>\r\n//               <Item label='角色名称'>\r\n//                 <Input value={role.name} disabled/>\r\n//               </Item>\r\n//               <Tree\r\n//                 checkable\r\n//                 defaultExpandAll={true}\r\n//                 checkedKeys={{checked:checkedKeys}}\r\n//                 onCheck={this.onCheck}\r\n//                 treeData={treeData} \r\n//                 />\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// // import React, { useState } from 'react';\r\n// // import { Tree } from 'antd';\r\n// // const treeData = [\r\n// //   {\r\n// //     title: '0-0',\r\n// //     key: '0-0',\r\n// //     children: [\r\n// //       {\r\n// //         title: '0-0-0',\r\n// //         key: '0-0-0',\r\n// //         children: [\r\n// //           {\r\n// //             title: '0-0-0-0',\r\n// //             key: '0-0-0-0',\r\n// //           },\r\n// //           {\r\n// //             title: '0-0-0-1',\r\n// //             key: '0-0-0-1',\r\n// //           },\r\n// //           {\r\n// //             title: '0-0-0-2',\r\n// //             key: '0-0-0-2',\r\n// //           },\r\n// //         ],\r\n// //       },\r\n// //       {\r\n// //         title: '0-0-1',\r\n// //         key: '0-0-1',\r\n// //         children: [\r\n// //           {\r\n// //             title: '0-0-1-0',\r\n// //             key: '0-0-1-0',\r\n// //           },\r\n// //           {\r\n// //             title: '0-0-1-1',\r\n// //             key: '0-0-1-1',\r\n// //           },\r\n// //           {\r\n// //             title: '0-0-1-2',\r\n// //             key: '0-0-1-2',\r\n// //           },\r\n// //         ],\r\n// //       },\r\n// //       {\r\n// //         title: '0-0-2',\r\n// //         key: '0-0-2',\r\n// //       },\r\n// //     ],\r\n// //   },\r\n// //   {\r\n// //     title: '0-1',\r\n// //     key: '0-1',\r\n// //     children: [\r\n// //       {\r\n// //         title: '0-1-0-0',\r\n// //         key: '0-1-0-0',\r\n// //       },\r\n// //       {\r\n// //         title: '0-1-0-1',\r\n// //         key: '0-1-0-1',\r\n// //       },\r\n// //       {\r\n// //         title: '0-1-0-2',\r\n// //         key: '0-1-0-2',\r\n// //       },\r\n// //     ],\r\n// //   },\r\n// //   {\r\n// //     title: '0-2',\r\n// //     key: '0-2',\r\n// //   },\r\n// // ];\r\n\r\n// // const  AuthForm = () => {\r\n// //   const [expandedKeys, setExpandedKeys] = useState(['0-0-0', '0-0-1','0-1']);\r\n// //   const [checkedKeys, setCheckedKeys] = useState(['0-0-0']);\r\n// //   const [selectedKeys, setSelectedKeys] = useState([]);\r\n// //   const [autoExpandParent, setAutoExpandParent] = useState(true);\r\n\r\n// //   const onExpand = (expandedKeys) => {\r\n// //     console.log('onExpand', expandedKeys); // if not set autoExpandParent to false, if children expanded, parent can not collapse.\r\n// //     // or, you can remove all expanded children keys.\r\n\r\n// //     setExpandedKeys(expandedKeys);\r\n// //     setAutoExpandParent(false);\r\n// //   };\r\n\r\n// //   const onCheck = (checkedKeys) => {\r\n// //     console.log('onCheck', checkedKeys);\r\n// //     setCheckedKeys(checkedKeys);\r\n// //   };\r\n\r\n// //   const onSelect = (selectedKeys, info) => {\r\n// //     console.log('onSelect', info);\r\n// //     setSelectedKeys(selectedKeys);\r\n// //   };\r\n\r\n// //   return (\r\n// //     <Tree\r\n// //       checkable\r\n// //       onExpand={onExpand}\r\n// //       expandedKeys={expandedKeys}\r\n// //       autoExpandParent={autoExpandParent}\r\n// //       onCheck={onCheck}\r\n// //       checkedKeys={checkedKeys}\r\n// //       onSelect={onSelect}\r\n// //       selectedKeys={selectedKeys}\r\n// //       treeData={treeData}\r\n// //     />\r\n// //   );\r\n// // };\r\n\r\n// // export default AuthForm\r\n\r\n"]},"metadata":{},"sourceType":"module"}