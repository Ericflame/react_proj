{"ast":null,"code":"import { SAVE_USER_INFO, DELETE_USER_INFO } from '../action_types'; // 尝试从localStorage中读取之前保存的信息\n\nlet user = JSON.parse(localStorage.getItem('user')); // let token = localStorage.getItem('token')\n//初始化userInfo数据\n\nlet initState = {\n  //若有值，取出使用，没有值，为空\n  user: user || '',\n  isLogin: user ? true : false\n};\nexport default function test(preState = initState, action) {\n  const {\n    type,\n    data\n  } = action;\n  let newState;\n\n  switch (type) {\n    case SAVE_USER_INFO:\n      //保存user和token\n      newState = {\n        user: data,\n        isLogin: true\n      };\n      return newState;\n\n    case DELETE_USER_INFO:\n      //删除user和token\n      newState = {\n        user: '',\n        isLogin: false\n      };\n      return newState;\n\n    default:\n      return preState;\n  }\n}","map":{"version":3,"sources":["C:/Users/PC/Desktop/react-project/src/redux/reducers/login_reducer.js"],"names":["SAVE_USER_INFO","DELETE_USER_INFO","user","JSON","parse","localStorage","getItem","initState","isLogin","test","preState","action","type","data","newState"],"mappings":"AAAA,SAAQA,cAAR,EAAuBC,gBAAvB,QAA8C,iBAA9C,C,CAEA;;AACA,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX,C,CACA;AAEA;;AACA,IAAIC,SAAS,GAAG;AACd;AACAL,EAAAA,IAAI,EAACA,IAAI,IAAI,EAFC;AAGdM,EAAAA,OAAO,EAACN,IAAI,GAAG,IAAH,GAAQ;AAHN,CAAhB;AAMA,eAAe,SAASO,IAAT,CAAcC,QAAQ,GAACH,SAAvB,EAAiCI,MAAjC,EAAyC;AACtD,QAAM;AAACC,IAAAA,IAAD;AAAMC,IAAAA;AAAN,MAAcF,MAApB;AACA,MAAIG,QAAJ;;AACA,UAAQF,IAAR;AACE,SAAKZ,cAAL;AAAqB;AACnBc,MAAAA,QAAQ,GAAG;AAACZ,QAAAA,IAAI,EAACW,IAAN;AAAWL,QAAAA,OAAO,EAAC;AAAnB,OAAX;AACA,aAAOM,QAAP;;AACF,SAAKb,gBAAL;AAAsB;AACpBa,MAAAA,QAAQ,GAAG;AAACZ,QAAAA,IAAI,EAAC,EAAN;AAASM,QAAAA,OAAO,EAAC;AAAjB,OAAX;AACA,aAAOM,QAAP;;AACF;AACE,aAAOJ,QAAP;AARJ;AAUD","sourcesContent":["import {SAVE_USER_INFO,DELETE_USER_INFO} from '../action_types'\r\n\r\n// 尝试从localStorage中读取之前保存的信息\r\nlet user = JSON.parse(localStorage.getItem('user'))\r\n// let token = localStorage.getItem('token')\r\n\r\n//初始化userInfo数据\r\nlet initState = {\r\n  //若有值，取出使用，没有值，为空\r\n  user:user || '',\r\n  isLogin:user ? true:false\r\n}\r\n\r\nexport default function test(preState=initState,action) {\r\n  const {type,data} = action\r\n  let newState\r\n  switch (type) {\r\n    case SAVE_USER_INFO: //保存user和token\r\n      newState = {user:data,isLogin:true}\r\n      return newState\r\n    case DELETE_USER_INFO://删除user和token\r\n      newState = {user:'',isLogin:false}\r\n      return newState\r\n    default:\r\n      return preState\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}